<!-- Selected Anime -->
<div class="row oneAnime">
  <div class="col-sm-4">
    <div class="title"> {{anime.selectedAnime.title}} </div>
    <img ng-src="{{anime.selectedAnime.picture}}" class="img-responsive image">
    <div class="score"> 
      Score: {{anime.selectedAnime.rating}} 
      <span>
        <!-- Facebook Share -->
        <button class="btnz facebook" ng-click="anime.share(anime.selectedAnime)">SHARE</button>
      </span>
    </div>
    <p class="description"> {{anime.selectedAnime.description}} </p>
  </div>
</div>

<section>
  <h3>Comments</h3> 
  <!-- Create New Comments -->
  <form ng-submit="anime.createComment(anime.selectedAnime._id)">
    <label>Title</label>
    <input type="text" name="title" placeholder="Title" ng-model="anime.commentModel.title">

    <label>Content</label>
    <input type="text" name="content" placeholder="Content" ng-model="anime.commentModel.content">

    <input type="submit" value="Submit">
  </form>

  <!-- Show all comments -->

  <!-- Contenedor Principal -->
    <div class="comments-container">
      <h1>Comments</h1>

      <ul id="comments-list" class="comments-list">
        <li ng-repeat="comment in anime.selectedAnime.comments">
          <div class="comment-main-level">
            <!-- Comment Box -->
            <div class="comment-box">
            

              <div ng-if="anime.selectedEdit._id !== comment._id">

                <div class="comment-head">
                  <h6 class="comment-name by-author">
                    {{comment.user.username}}
                  </h6>
                  <!-- Check if user id === comment.user -->
                  <div ng-if="anime.userToken._id === comment.user._id">
                    <button ng-if="anime.selectedEdit._id !== comment._id" ng-click="anime.selectEdit(comment)">  
                      Edit
                    </button>
                    <button ng-click="anime.removeComment(comment)">Delete</button>
                  </div>
                </div>
                <div class="comment-content">
                  <span>{{comment.title}}</span>
                  <p>{{comment.content}}</p>
                </div>

              </div>


              <form ng-if="anime.selectedEdit._id === comment._id" ng-submit="anime.editComment()">
                <input name="title" ng-value="anime.selectedEdit.title" ng-model="anime.commentEditModel.title">
                <input name="content" ng-value="anime.selectedEdit.content" ng-model="anime.commentEditModel.content">
                <input type="submit" value="Submit">
              </form>

            </div>
          </div>
        </li>
      </ul>
    </div>

</section>


<ul>
  <li ng-repeat="comment in anime.selectedAnime.comments">

    <!-- Show one comment -->
<!--     <div ng-if="anime.selectedEdit._id !== comment._id">
      {{comment.title}} <br>
      <p>{{comment.content}}</p>
      <div>
        User: {{comment.user.username}}
      </div>
    </div> -->

    <!-- Edit From -->
<!--     <form ng-if="anime.selectedEdit._id === comment._id" ng-submit="anime.editComment()">
      <input name="title" ng-value="anime.selectedEdit.title" ng-model="anime.commentEditModel.title">
      <input name="content" ng-value="anime.selectedEdit.content" ng-model="anime.commentEditModel.content">
      <input type="submit" value="Submit">
    </form> -->

    <!-- Check if user id === comment.user -->
<!--     <div ng-if="anime.userToken._id === comment.user._id">
      <button ng-if="anime.selectedEdit._id !== comment._id" ng-click="anime.selectEdit(comment)">  
        Edit
      </button>
      <button ng-click="anime.removeComment(comment)">Delete</button>
    </div>
 -->
  </li>
</ul> 

